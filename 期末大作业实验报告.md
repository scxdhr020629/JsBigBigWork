# [2022-2023学年第2学期](https://js2023.pages.dev/#/lab/proj.final?id=_2022-2023学年第2学期)

# [**实 验 报 告**](https://js2023.pages.dev/#/lab/proj.final?id=实-验-报-告)

![zucc](https://js2023.pages.dev/lab/zucc.png)

- 课程名称:跨平台脚本开发技术
- 实验项目: 期末大作业
- 专业班级<u> </u>
- 学生学号<u> </u>
- 学生姓名<u> </u>
- 实验指导教师:郭鸣

## [实验内容](https://js2023.pages.dev/#/lab/proj.final?id=实验内容)

1. ~~翻译英文 每人5页.~~
2. （选做）完成一个介绍JS进展的技术报告,要求如下，附加分。
   - 内容范围
     - Javascript语言新技术动向
       - 如 async await, generator,webassembly, web socket,Service Worker, Reflect API 等
     - Javascript框架 vue, cyclejs,infernojs, sveltejs,hyperapp... 介绍框架原理,使用案例.
     - Javascript 某个技术实现 Vdom,GraphQL
     - 技术报告范例参考[500 Lines or Less](http://www.aosabook.org/en/index.html)
   - 提交形式
     - 提交 code + markdown文档
   - 技术报告讲座 (可选,加分)
     - 预计 20分钟左右,下下周开始
     - 制作 ppt (markdown)
   - 自我评估 5为最高
     - 原创性 (1-5)
     - 技术难度 (1-5)
     - 工作量 (1-5)
3. 大项目,分组完成,评分方式，以下为起始评分
   - 及格 在现有的项目代码
     - 现有代码修改与改进
     - 客户端有服务器API发起网络调用
     - 有简单的服务器处理逻辑
     - 能解释服务器REST API 接口
     - 能展示 网络请求的 Request Response 数据
   - 中 采用前端框架,实现应用跨平台的适配，Desktop, Tablet, Mobile
     - 对现有功能有较多改进
   - 优秀/良 完成自定义项目.
     - 使用比较有特点JavaScript框架
       - solidjs/hyper/elm
     - 采用比较新颖的技术 例如FRP PWA Service Worker等
       - 函数式编程
       - 响应式编程
     - 项目有创新新与技术难度
4. 现有改进方式建议列表
   - 开发技术
     - UI 响应式设计
       - 采用 BootStrap, Material Design等前端框架
       - 支持 Desktop,Tablet,Mobile
     - 服务端 NodeJs框架
       - Express、Koa等实现服务端
     - WebSocket socket.io等实时交互技术
     - Web Assembly 技术
5. 项目信息参考
   - 实际公司项目
     - JavaScript程序性能优化
     - GraphQL 项目
     - UI设计器
   - https://demo.realworld.io/#/
     - 前后端分离
   - 平台游戏 or 2048
     - 添加用户登录
       - 用户登录id 会话保存
       - 用户头像保存
     - 管理员后台
       - CRUD操作
     - 用户积分排行
       - 积分排行存储到本地
       - 积分排行存储到服务器
     - 实现游戏手机平台，平板的支持
     - 在线关卡编辑器
     - 5 * 5 2048
     - Time travel 编译器compiler/debugger
       - Cyclejs Time traveler
   - 图形化 FSM 编译器
     - http://jsflap.com/
     - http://bgrawi.com/Fourier-Visualizations/
     - http://www.jflap.org/
     - http://www.cs.sjsu.edu/faculty/pollett/154.1.11s/
     - http://hackingoff.com/compilers
     - https://github.com/jahan-addison/posiy
   - JS语言创新 在js 中实现其他语言的语法特性
     - https://github.com/slurmulon/flap
     - https://github.com/sanctuary-js/sanctuary
     - http://www.sweetjs.org/
   - 健康/中医/书法/太极/汉服/传统文化方面项目
     - [大家中医](http://www.dajiazhongyi.com/)
     - 中医资料学习
     - 传统养生 八段锦 练习 （https://gotokeep.com/）类似的中医锻炼软件
   - IT技术学习平台
     - https://github.com/rusthon/Rusthon
     - webpackbin.com
     - https://hourofpython.trinket.io/ke3-shi4-hua4-python-jian3-jie4#/huan1-ying2/bian1-cheng2-yi1-xiao3-shi2
   - Jupyter in browser 无服务端的jupyter?
     - https://try.jupyter.org/
     - https://github.com/jvilk/BrowserFS
     - http://slides.com/bahmutov/browser-is-the-new-server-nodefest
     - https://github.com/kripken/emscripten
     - http://cyrille.rossant.net/numpy-browser-llvm/
     - http://www.rfk.id.au/blog/entry/pypy-js-first-steps/?utm_source=tuicool&utm_medium=referral
   - 可视化项目
     - 服务端数据存储, 网页端显示数据
     - echarts NVD3.js
     - superset https://github.com/airbnb/superset
     - https://vega.github.io/voyager2/
     - [https://ipywidgets.readthedocs.io/en/latest/examples/Widget%20Basics.html](https://ipywidgets.readthedocs.io/en/latest/examples/Widget Basics.html)
   - 参考 https://electron.atom.io/
6. git 管理技术文档,和项目代码,可以使用 github desktop
   - 验收大作业的时候查看git log
   - npm i -g git-stats
   - https://github.com/tomgi/git_stats/graphs/contributors
7. 代码风格 standard https://standardjs.com/readme-zhcn.html
8. 项目分工表格

- 1人项目权重为1.0
- 2人项目权重和为 1.9

| 姓名   | 学号     | 班级       | 任务                                                         | 权重 |
| ------ | -------- | ---------- | ------------------------------------------------------------ | ---- |
| 司晨旭 | 32001019 | 计算机2002 | 改进 地址管理模块 查询收货地址， 开发 登录模块 验证码登录功能，开发 个人中心模块 图片上传功能 | 1.2  |
| 阮修霖 | 32002233 | 软工2004   | 改进 商品模块 数据获取，开发 登录模块 注册功能               | 0.7  |

1. 项目自我评估表

| 技术点        | 自我评价 | 备注 |
| ------------- | -------- | ---- |
| Axios         | 4        |      |
| local Storage | 3        |      |
| 响应式编程    | 3        |      |
| 函数式编程    | 4        |      |
| token         | 3        |      |
| vue框架       | 2        |      |
|               | 3        |      |

1. 项目自评等级:(1-5)

   3

2. 项目说明

   1. 项目 是基于现有的自选代码
      - 改进 地址管理模块 查询收货地址
      - 改进 商品模块 数据获取
      - 开发 登录模块 注册功能
      - 开发 登录模块 验证码登录功能
      - 开发 个人中心模块 图片上传功能

3. 解决技术要点说明

   - 解决 图片上传 问题， 关键代码与步骤如下

     使用post将图片URL上传至客户端

     ```js
     //图片上传
     router.post("/api/hold/imgload",
       multer({
         //设置文件存储路径
         dest: "../public/IMGURL",
       }).array("file", 1),
       function (req, res, next) {
         let files = req.files;
         let file = files[0];
         let fileInfo = {};
         console.log("找到api了");
         let path =
           "../public/IMGURL/" + Date.now().toString() + "_" + file.originalname;
         fs.renameSync("../public/IMGURL/" + file.filename, path);
         //获取文件基本信息
         fileInfo.type = file.mimetype;
         fileInfo.name = file.originalname;
         fileInfo.size = file.size;
         fileInfo.path = path;
         uploimg(path, req.body, fileInfo);
         res.send({
           code: 200,
           msg: "OK",
           data: fileInfo,
         });
       }
     );
     ```

     使用get方法获取在数据库中查询到的图片URL

     ```js
     //查看头像
     router.get("/api/getuserimg", function (req, res, next) {
       let userid = JSON.parse(req.query.id).id;
       connection.query(
         `select * from userimg where userid=${userid}`,
         function (error, result) {
           res.send({
             data: {
               success: true,
               code: 200,
               data: result,
             },
           });
         }
       );
     });
     ```

   - 解决 xxx 问题2， 关键代码与步骤如下

4. 心得体会（结合自己情况具体说明）

   - 大项目开发过程心得

     - 遇到哪些困难，经历哪里过程，有哪些收获

       在修改删除购物车数据的代码时遇到了post转delete方法的困难，原有项目使用get方法获取一个选中商品的数组，再进行post以实现商品的批量删除，但转为delete后只能删除选中的第一条数据。在修改过程中，加深了我们对CRUD操作的理解，熟练了对REST API的编写。

       在修改分类模块数据获取功能时，想将写死的数据转变为从数据库中读取，更改后出现了分类等级无法区分的问题，通过新建分类等级数据表解决。

   - 本课程建议

     - 课程难度方面，进度方面，课程内容，授课方式等，给出你的意见

       课程难度偏高，底层知识掌握要求程度高，希望老师能多引导学生从实践角度出发，通过项目理解底层知识。